{% extends "layout.html" %}
{% load static %}

{% block title %}
	Pong Game
{% endblock %}

{% block undertitle %}
	<h1>Pong Contest</h1>
{% endblock %}

{% block content %}
	<canvas>
	</canvas>
	<h3><strong>Instructions:</strong></h3>
	<p>
		<b>{{ usernames.0 }}:</b> Control the left player using the W and S keys<br>
		<b>{{ usernames.1 }}:</b> Control the right player using the up and down arrow keys<br>
		{% if players|length > 2 %}
		<b>{{ usernames.2 }}:</b> Control the left player using the Q and A keys<br>
		<b>{{ usernames.3 }}:</b> Control the right player using the I and K keys<br>
		{% endif %}
	</p>
{% endblock %}

{% block scripts %}
	<script>
		const players = [
			'{{ players.0|default:"" }}',
			'{{ players.1|default:"" }}',
			{% if players|length > 2 %}
			'{{ players.2|default:"" }}',
			'{{ players.3|default:"" }}'
			{% endif %}
		];
		const usernames = [
			'{{ usernames.0|default:"" }}',
			'{{ usernames.1|default:"" }}',
			{% if players|length > 2 %}
			'{{ usernames.2|default:"" }}',
			'{{ usernames.3|default:"" }}'
			{% endif %}
		];
		const turns = {{ turns }}
	</script>
	{% if players|length == 2 %}
		<script src="{% static 'js/game.js' %}"></script>
	{% elif players|length == 4 %}
		<script src="{% static 'js/game2x2.js' %}"></script>
	{% endif %}
{% endblock %}
