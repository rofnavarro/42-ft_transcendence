{% extends 'layout.html' %}
{% load static%}
{% load i18n%}

{% block title %}
	{% trans "Play" %}
{% endblock %}

{% block undertitle %}
	<h2><strong class="gradient-text">{% trans "Tournament Settings" %}</strong></h2>
{% endblock %}

{% block content %}
	<form id="tournament-form" method="POST">
		{% csrf_token %}
		<div class="tournament-play">
			<div id="qtd-jogadores">
				<h3><strong class="gradient-text">{% trans "Number of Players" %}</strong></h3>
				<p>{% trans "Choose the number of players:" %}</p>
				<input type="radio" name="qtd-jogadores" value="4" checked>
				<label>4</label>
				<input type="radio" name="qtd-jogadores" value="8">
				<label>8</label>
			</div>
			<div id="qtd-turnos">
				<h3><strong class="gradient-text">{% trans "Rounds" %}</strong></h3>
				<p>{% trans "Choose the number of rounds:" %}</p>
				<input type="radio" name="qtd-turnos" value="1" checked>
				<label>1</label>
				<input type="radio" name="qtd-turnos" value="3">
				<label>3</label>
				<input type="radio" name="qtd-turnos" value="5">
				<label>5</label>
			</div>
		</div>
		<div>
			<button type="submit" class="small-button" onclick="prepareForm()">{% trans "Invite Players!" %}</button>
		</div>
	</form>
{% endblock %}

{% block scripts %}
	<script>
		function prepareForm() {
			const form = document.getElementById('tournament-form');
			const selectedPlayers = document.querySelector('input[name="qtd-jogadores"]:checked').value;

			if (selectedPlayers === '4') {
				form.action = "{% url 'tournaments:tournament_4' %}";
			} else if (selectedPlayers === '8') {
				form.action = "{% url 'tournaments:tournament_8' %}";
			}
		}
	</script>
{% endblock %}
